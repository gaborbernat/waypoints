/*!
Waypoints Inview Shortcut Timer based - 3.1.1
Copyright Â© 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
*/
!function(){"use strict";function t(i){this.options=o.Adapter.extend({},t.defaults,i),this.options.ratio=parseFloat(/(\d+)\%/.exec(this.options.offset)[1])/100,this.waypoints=[],this.timerVertical=null,this.timerHorizontal=null,this.timerVerticalDone=!1,this.timerHorizontalDone=!1,this.createWaypoints()}var o=window.Waypoint,i=function(){};t.prototype.createWaypoints=function(){function t(t,i,e){var n=(new Date).toISOString().split("T")[1];n+=" "+e.options.debug,n+=" "+t,n+=" "+i,n+=" "+e.axis,n+=" page="+o.viewportHeight()+"X"+o.viewportWidth(),n+=" div="+e.adapter.outerHeight()+"X"+e.adapter.outerWidth(),n+=" triggerPoint="+e.triggerPoint,n+=" cur_offset="+e.options.offset.call(e)+" with "+e.options.o,console.log(n)}function i(o,i,e,n){o.isHorizontal?i.timerHorizontalDone=!0:i.timerVerticalDone=!0,t("done ",n,e),i.timerVerticalDone===!0&&i.timerHorizontalDone===!0&&(i.options.callback(i.options),i.options.destroyOnValid?i.destroy():o.isHorizontal?i.timerHorizontal=null:i.timerVertical=null)}function e(o,e,n,r){var a=o.isHorizontal?e.timerHorizontal:e.timerVertical;null===a&&(t("enter",n,r),a=window.setTimeout(function(){i(o,e,r,n)},e.options.timeout),o.isHorizontal?e.timerHorizontal=a:e.timerVertical=a)}function n(o,i,e,n){var r=o.isHorizontal?i.timerHorizontal:i.timerVertical;null!==r&&(t("exit ",e,n),clearTimeout(r),o.isHorizontal?(i.timerHorizontalDone=!1,i.timerHorizontal=null):(i.timerVerticalDone=!1,i.timerVertical=null))}function r(){return Math.round(-this.adapter.outerHeight()*f)}function a(){return Math.round(o.viewportHeight()-this.adapter.outerHeight()*u)}function s(){return Math.round(-this.adapter.outerWidth()*f)}function l(){return Math.round(o.viewportWidth()-this.adapter.outerWidth()*u)}var u=this.options.ratio,f=1-u,p={vertical:[{up:e,down:n,offset:r,o:"topOffset"},{up:n,down:e,offset:a,o:"bottomOffset"}],horizontal:[{left:e,right:n,offset:s,o:"leftOffset"},{left:n,right:e,offset:l,o:"rightOffset"}]};this.generateWaypoints(p.vertical,!1),this.generateWaypoints(p.horizontal,!0)},t.prototype.generateWaypoints=function(t,i){for(var e=0;e<t.length;e++)this.createWaypoint(o.Adapter.extend({},{isHorizontal:i,debug:this.options.debug},t[e]))},t.prototype.createWaypoint=function(t){this.waypoints.push(new o({element:this.options.element,handler:function(t,o){return function(i){t[i](t,o,i,this)}}(t,this),offset:t.offset,horizontal:t.isHorizontal,debug:t.debug,o:t.o}))},t.prototype.destroy=function(){for(var t=0,o=this.waypoints.length;o>t;t++)this.waypoints[t].destroy();this.waypoints=[]},t.defaults={timeout:100,offset:"80%",callback:i,destroyOnValid:!0},o.InviewTimer=t}();